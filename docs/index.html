
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.2.8">
    
    
      
        <title>Real Time Sensor Fusion for Loss Detection at Checkout</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.cb6bc1d0.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.39b8e14a.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
      <link rel="stylesheet" href="stylesheets/extra.css">
    
    
      
        
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-154731555-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview",document.location.pathname)})</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#real-time-sensor-fusion-for-loss-detection-at-checkout-reference-design" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="." title="Real Time Sensor Fusion for Loss Detection at Checkout" class="md-header-nav__button md-logo" aria-label="Real Time Sensor Fusion for Loss Detection at Checkout">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      <div class="md-header-nav__ellipsis">
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            Real Time Sensor Fusion for Loss Detection at Checkout
          </span>
        </div>
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            
              Real Time Sensor Fusion for Loss Detection at Checkout Reference Design
            
          </span>
        </div>
      </div>
    </div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    




<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="Real Time Sensor Fusion for Loss Detection at Checkout" class="md-nav__button md-logo" aria-label="Real Time Sensor Fusion for Loss Detection at Checkout">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Real Time Sensor Fusion for Loss Detection at Checkout
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Real Time Sensor Fusion for Loss Detection at Checkout Reference Design
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        Real Time Sensor Fusion for Loss Detection at Checkout Reference Design
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
    <nav class="md-nav" aria-label="Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#block-diagram" class="md-nav__link">
    Block diagram
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recommended-domain-knowledge" class="md-nav__link">
    Recommended domain knowledge
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    Getting started
  </a>
  
    <nav class="md-nav" aria-label="Getting started">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-clone-the-repository" class="md-nav__link">
    Step 1: Clone the repository
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-build-the-reference-design" class="md-nav__link">
    Step 2: Build the reference design
  </a>
  
    <nav class="md-nav" aria-label="Step 2: Build the reference design">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#check-for-success" class="md-nav__link">
    Check for success
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-start-the-reference-design-suite" class="md-nav__link">
    Step 3: Start the reference design suite
  </a>
  
    <nav class="md-nav" aria-label="Step 3: Start the reference design suite">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#check-for-success_1" class="md-nav__link">
    Check for success
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-dive-in" class="md-nav__link">
    Step 4: Dive in
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-use-the-compose-files" class="md-nav__link">
    How to use the compose files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#components-to-build-a-solution-that-is-based-on-this-reference-design" class="md-nav__link">
    Components to build a solution that is based on this reference design
  </a>
  
    <nav class="md-nav" aria-label="Components to build a solution that is based on this reference design">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#components-to-consider-adding" class="md-nav__link">
    Components to consider adding
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#components-to-consider-replacing-or-enhancing" class="md-nav__link">
    Components to consider replacing or enhancing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-dictionary" class="md-nav__link">
    Data dictionary
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" >
      
      <label class="md-nav__link" for="nav-2">
        Phases
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Phases" data-md-level="1">
        <label class="md-nav__title" for="nav-2">
          <span class="md-nav__icon md-icon"></span>
          Phases
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="phases/phase1/" class="md-nav__link">
        Phase 1 - Simulate Events
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="phases/phase2/" class="md-nav__link">
        Phase 2 - Bring Your Own Software
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="phases/phase3/" class="md-nav__link">
        Phase 3 - Bring Your Own Hardware
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" >
      
      <label class="md-nav__link" for="nav-3">
        RTSF at Checkout Events
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="RTSF at Checkout Events" data-md-level="1">
        <label class="md-nav__title" for="nav-3">
          <span class="md-nav__icon md-icon"></span>
          RTSF at Checkout Events
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="rtsf_at_checkout_events/checkout_events/" class="md-nav__link">
        Checkout events
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="rtsf_at_checkout_events/event_simulation/" class="md-nav__link">
        Event simulation
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="device_services/" class="md-nav__link">
        Device services
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="notifications/" class="md-nav__link">
        How to Send Notifications through EdgeX (optional)
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="troubleshooting/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="references/" class="md-nav__link">
        References
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
    <nav class="md-nav" aria-label="Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#block-diagram" class="md-nav__link">
    Block diagram
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recommended-domain-knowledge" class="md-nav__link">
    Recommended domain knowledge
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    Getting started
  </a>
  
    <nav class="md-nav" aria-label="Getting started">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-clone-the-repository" class="md-nav__link">
    Step 1: Clone the repository
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-build-the-reference-design" class="md-nav__link">
    Step 2: Build the reference design
  </a>
  
    <nav class="md-nav" aria-label="Step 2: Build the reference design">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#check-for-success" class="md-nav__link">
    Check for success
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-start-the-reference-design-suite" class="md-nav__link">
    Step 3: Start the reference design suite
  </a>
  
    <nav class="md-nav" aria-label="Step 3: Start the reference design suite">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#check-for-success_1" class="md-nav__link">
    Check for success
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-dive-in" class="md-nav__link">
    Step 4: Dive in
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-use-the-compose-files" class="md-nav__link">
    How to use the compose files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#components-to-build-a-solution-that-is-based-on-this-reference-design" class="md-nav__link">
    Components to build a solution that is based on this reference design
  </a>
  
    <nav class="md-nav" aria-label="Components to build a solution that is based on this reference design">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#components-to-consider-adding" class="md-nav__link">
    Components to consider adding
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#components-to-consider-replacing-or-enhancing" class="md-nav__link">
    Components to consider replacing or enhancing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-dictionary" class="md-nav__link">
    Data dictionary
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="real-time-sensor-fusion-for-loss-detection-at-checkout-reference-design">Real Time Sensor Fusion for Loss Detection at Checkout Reference Design</h1>
<h2 id="introduction">Introduction</h2>
<p>This guide helps you build and run the Real Time Sensor Fusion for Loss Detection at Checkout Reference Design.</p>
<p>Upon completing the steps in this guide, you will be ready to integrate sensors and services to build your own complete solution.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>This guide does not create a complete, ready-to-use solution. Instead, upon completing the steps in this guide, you will be ready to integrate sensors and services to build your own Real Time Sensor Fusion for Loss Detection at Checkout solution.</p>
<p>Certain third-party software or hardware identified in this document only may be used upon securing a license directly from the third-party software or hardware owner. The identification of non-Intel software, tools, or services in this document does not constitute a sponsorship, endorsement, or warranty by Intel.</p>
</div>
<h3 id="block-diagram">Block diagram</h3>
<p>The high-level diagram below shows the sensors and services used with the Real Time Sensor Fusion for Loss Detection at Checkout Reference Design. The diagram shows the sensors and services, and how they communicate through EdgeX. Intel provides the services outlined in green, and you must obtain EdgeX and the sensors and services in pink.
<img alt="Real Time Sensor Fusion for Loss Detection at Checkout Diagram" src="images/rtsf-loss-detection-at-checkout.png" /></p>
<h3 id="prerequisites">Prerequisites</h3>
<p>The following items are required to build the Real Time Sensor Fusion for Loss Detection at Checkout Reference Design. You will need additional hardware and software when you are ready to build your own solution. </p>
<ul>
<li>Point-of-Sale (POS) of choice. You must use a POS that integrates with either the EdgeX REST or MQTT Device. See <a href="rtsf_at_checkout_events/checkout_events/#pos-events">POS Events</a> for information about integration with the <a href="device_services/#edgex-rest-and-mqtt-device-services">EdgeX Device Services</a> to send POS Events</li>
<li>Docker</li>
<li>Docker-Compose</li>
<li>Go 1.12+</li>
<li>GIT</li>
<li>make</li>
</ul>
<h3 id="recommended-domain-knowledge">Recommended domain knowledge</h3>
<ul>
<li>MQTT</li>
<li>REST</li>
<li>POS systems, including customizations (Transactions, Real-Time Transaction Log (RTTL))</li>
<li>Computer Vision concepts, if using CV Components</li>
<li>RFID concepts, if using RFID Components</li>
</ul>
<h2 id="getting-started">Getting started</h2>
<h3 id="step-1-clone-the-repository">Step 1: Clone the repository</h3>
<div class="codehilite"><pre><span></span><code>git clone  https://github.com/intel-iot-devkit/rtsf-at-checkout-reference-design &amp;&amp; cd ./rtsf-at-checkout-reference-design
</code></pre></div>

<h3 id="step-2-build-the-reference-design">Step 2: Build the reference design</h3>
<p>You must build the provided component services and create local docker images. To do so, run:</p>
<div class="codehilite"><pre><span></span><code>make docker
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command may take a while to run depending on your internet connection and machine specifications.</p>
</div>
<h4 id="check-for-success">Check for success</h4>
<p>Make sure the command was successful. To do so, run:</p>
<div class="codehilite"><pre><span></span><code>docker images
</code></pre></div>

<div class="admonition success">
<p class="admonition-title">Success</p>
<p>The results are:</p>
<ul>
<li><code>rtsf-at-checkout/event-reconciler</code></li>
<li><code>rtsf-at-checkout/device-scale</code></li>
<li><code>rtsf-at-checkout/product-lookup</code></li>
<li><code>rtsf-at-checkout/loss-detector</code></li>
<li><code>rtsf-at-checkout/rsp-controller-event-handler</code></li>
<li><code>rtsf-at-checkout/cv-region-of-interest</code></li>
</ul>
</div>
<div class="admonition failure">
<p class="admonition-title">Failure</p>
<p>If you do not see all of the above docker image files, look through the console output for errors. Sometimes dependencies fail to resolve and must be run again. Address obvious issues. To try again, repeat step 2.</p>
</div>
<h3 id="step-3-start-the-reference-design-suite">Step 3: Start the reference design suite</h3>
<p>Use docker-compose to start the reference design suite. To do so, run</p>
<div class="codehilite"><pre><span></span><code>make run-base
</code></pre></div>

<p>This command starts the EdgeX Device Services and then starts all the Loss Detection Services.</p>
<h4 id="check-for-success_1">Check for success</h4>
<p>Make sure the command was successful. To do so, run:</p>
<div class="codehilite"><pre><span></span><code><span class="x">`docker ps --format &#39;table</span><span class="cp">{{</span><span class="nv">.Image</span><span class="cp">}}</span><span class="x">\t</span><span class="cp">{{</span><span class="nv">.Status</span><span class="cp">}}</span><span class="x">&#39;`</span>
</code></pre></div>

<div class="admonition success">
<p class="admonition-title">Success</p>
<p>Your output is as follows:</p>
<table>
<thead>
<tr>
<th>IMAGE</th>
<th>STATUS</th>
</tr>
</thead>
<tbody>
<tr>
<td>rtsf-at-checkout/product-lookup:dev</td>
<td>Up 3 minutes</td>
</tr>
<tr>
<td>rtsf-at-checkout/loss-detector:dev</td>
<td>Up 3 minutes</td>
</tr>
<tr>
<td>rtsf-at-checkout/event-reconciler:dev</td>
<td>Up 3 minutes</td>
</tr>
<tr>
<td>rtsf-at-checkout/rsp-controller-event-handler:dev</td>
<td>Up 3 minutes</td>
</tr>
<tr>
<td>rtsf-at-checkout/device-scale:dev</td>
<td>Up 3 minutes</td>
</tr>
<tr>
<td>edgexfoundry/docker-device-rest-go:1.0.0</td>
<td>Up 3 minutes</td>
</tr>
<tr>
<td>edgexfoundry/docker-device-mqtt-go:1.1.0</td>
<td>Up 3 minutes</td>
</tr>
<tr>
<td>edgexfoundry/docker-support-scheduler-go:1.1.0</td>
<td>Up 3 minutes</td>
</tr>
<tr>
<td>edgexfoundry/docker-core-command-go:1.1.0</td>
<td>Up 3 minutes</td>
</tr>
<tr>
<td>edgexfoundry/docker-core-data-go:1.1.0</td>
<td>Up 3 minutes</td>
</tr>
<tr>
<td>edgexfoundry/docker-support-notifications-go:1.1.0</td>
<td>Up 3 minutes</td>
</tr>
<tr>
<td>edgexfoundry/docker-core-metadata-go:1.1.0</td>
<td>Up 3 minutes</td>
</tr>
<tr>
<td>edgexfoundry/docker-support-logging-go:1.1.0</td>
<td>Up 3 minutes</td>
</tr>
<tr>
<td>edgexfoundry/docker-core-config-seed-go:1.1.0</td>
<td>Exited (0) 3 minutes ago</td>
</tr>
<tr>
<td>edgexfoundry/docker-edgex-mongo:1.1.0</td>
<td>Up 3 minutes</td>
</tr>
<tr>
<td>consul:1.3.1</td>
<td>Up 3 minutes</td>
</tr>
<tr>
<td>edgexfoundry/docker-edgex-volume:1.1.0</td>
<td>Up 3 minutes</td>
</tr>
<tr>
<td>eclipse-mosquitto:1.5.8</td>
<td>Up 3 minutes</td>
</tr>
</tbody>
</table>
<p>Only 'edgexfoundry/docker-core-config-seed-go:1.1.0' should display a status of 'Exited'. If any other service displays 'Exited', repeat step 4.</p>
</div>
<h3 id="step-4-dive-in">Step 4: Dive in</h3>
<p>All of the core components of RTSF at Checkout are up and running, and you are ready to begin going through the following phases. </p>
<ul>
<li><a href="phases/phase1/">Phase 1</a> - Simulate data using either Postman or the Intel-provided Event Simulator</li>
<li><a href="phases/phase2/">Phase 2</a> - Integrate POS software using either an open-source POS or your own proprietary POS system</li>
<li><a href="phases/phase3/">Phase 3</a> - Integrate your own hardware to complete an end-to-end loss prevention system</li>
</ul>
<h2 id="how-to-use-the-compose-files">How to use the compose files</h2>
<p>The docker-compose files are divided up to let you bring up or take down individual sensor ingestion components. Visit each individual <a href="#references-and-links-to-the-documentation-of-the-individual-components">GitHub subrepository</a> to learn about the responsibility of each service. </p>
<table>
<thead>
<tr>
<th>Compose file</th>
<th>Purpose</th>
<th>Command</th>
</tr>
</thead>
<tbody>
<tr>
<td>Portainer</td>
<td>Container management</td>
<td><code>docker-compose -f docker-compose.portainer.yml up -d</code></td>
</tr>
<tr>
<td>EdgeX and its components</td>
<td></td>
<td><code>docker-compose -f docker-compose.edgex.yml up -d</code></td>
</tr>
<tr>
<td>Real Time Sensor Fusion for Loss Detection at Checkout Core Services and its components</td>
<td></td>
<td><code>docker-compose -f docker-compose.loss-detection.yml up -d</code></td>
</tr>
<tr>
<td>RFID Components (Intel® RSP SW Toolkit)</td>
<td></td>
<td><code>docker-compose -f docker-compose.rsp.yml up -d</code></td>
</tr>
<tr>
<td>Video Analytics Pipeline (VAP)</td>
<td></td>
<td><code>docker-compose -f docker-compose.vap.yml up -d</code></td>
</tr>
</tbody>
</table>
<h2 id="components-to-build-a-solution-that-is-based-on-this-reference-design">Components to build a solution that is based on this reference design</h2>
<p>The reference design you created is not a complete solution. It provides the base components for creating a sensor fusion based framework. It is your choice on how many and which sensors to include. This section provides information about components you might want to include or replace.</p>
<h3 id="components-to-consider-adding">Components to consider adding</h3>
<table>
<thead>
<tr>
<th>Component</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Security Scale in Bagging Area</td>
<td>A Scale Device Service is provided for a CAS USB scale. As an alternative, you can have Scale Events sent to either the EdgeX REST or MQTT Device Services. See <a href="rtsf_at_checkout_events/checkout_events/#scale-events">Scale Events</a> for more information, including information about integrating with the <a href="device_services/#edgex-rest-and-mqtt-device-services">EdgeX Device Services</a> to which you send  Scale Events.</td>
</tr>
<tr>
<td>Computer Vision (CV) Object Detection Model</td>
<td>The Video Analytics Pipeline (VAP) Service uses the provided Intel® Distribution of OpenVINO toolkit-based object detection model as an example, but this is not intended as your final solution. The VAP and CV ROI Enter Exit Service in this reference design create the CV ROI Events that are sent to the <a href="device_services/#edgex-mqtt-device-service">EdgeX MQTT Device Service</a>. See <a href="rtsf_at_checkout_events/checkout_events/#cv-roi-events">CV ROI Events</a>.</td>
</tr>
<tr>
<td>Intel® RFID Sensors</td>
<td>This reference design relies on the <strong>Intel® Retail Sensor Platform (Intel® RSP)</strong> <a href="https://software.intel.com/en-us/retail/rfid-sensor-platform">https://software.intel.com/en-us/retail/rfid-sensor-platform</a> that has its own custom EdgeX Device Service to which it sends RFID events. These events are transformed into RFID ROI events by the provided <strong>RSP Controller Event Handler</strong> service. See the <a href="rtsf_at_checkout_events/checkout_events/#rfid-roi-events">RFID ROI Events</a>. This RSP has its own custom EdgeX Device Service to which it sends RFID events. These events are transformed into RFID ROI Events by the provided RSP Controller Event Handler Service. If you are interested in Intel® RSP RFID Sensors, see <a href="https://software.intel.com/en-us/retail/rfid-sensor-platform#buy">https://software.intel.com/en-us/retail/rfid-sensor-platform#buy</a></td>
</tr>
<tr>
<td>Reconciler Service</td>
<td>The service provided performs the analytics of reconciling all the sensor events to identify suspect items. As an option, you can replace the provided service with a more advanced service.</td>
</tr>
<tr>
<td>Detector Service</td>
<td>The service provided demonstrates how to use the EdgeX Notifications Service to send an email notification. The contents of the email is a simple JSON list of suspect items. As an option, you can replace this service with a more advanced service.</td>
</tr>
<tr>
<td>Computer Vision Region of Interest (ROI) Solution</td>
<td>If you chose to create your own complete Computer Vision object detection and CV ROI enter/exit solution. To use your own solution, exclude running the components in the <code>docker-compose.vap.yml</code> compose file and remove the <code>cv-region-of-interest</code> from the <code>docker-compose.loss-detection.yml</code> compose file. Integrate your CV solution with either the EdgeX REST or MQTT Device Services to which you send CV ROI events.</td>
</tr>
</tbody>
</table>
<h3 id="components-to-consider-replacing-or-enhancing">Components to consider replacing or enhancing</h3>
<table>
<thead>
<tr>
<th>Component</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Reconciler Service</td>
<td>The provided Reconciler Service performs the analytics of reconciling the sensor events to identify suspect items. While the service provided performs adequately, your analytics team might be able to improve on this reference implementation.</td>
</tr>
<tr>
<td>Detector Service</td>
<td>The provided Dectector Service demonstrates how to send email notifications using the EdgeX Notifications Service. The email message content is a simple JSON list of suspect items.</td>
</tr>
<tr>
<td>Product Lookup Service</td>
<td>The provided service is a basic implementation of a Product Information Management Lookup Service. It uses a JSON file as a database for the product information. It is recommended that you replace the service with an Enterprise Resource Planning (ERP) System.</td>
</tr>
<tr>
<td>RFID Services</td>
<td>These services are provided. If you choose to use a different RFID solution, in addition to providing your integration to generate the RFID ROI events, exclude running the components in the <code>docker-compose.rsp.yml</code> compose file and remove the <code>rsp-controller-event-handler</code> from the <code>docker-compose.loss-detection.yml</code> compose file. You will also need to integrate your RFID solution with either the EdgeX REST or MQTT Device Services to which you send RFID events. See <a href="rtsf_at_checkout_events/checkout_events/#rfid-roi-events">RFID ROI events</a> for more information, including information about integrating with <a href="device_services/#edgex-rest-and-mqtt-device-services">EdgeX Device Services</a> to which you send RFID ROI events.</td>
</tr>
</tbody>
</table>
<h2 id="data-dictionary">Data dictionary</h2>
<p>The data dictionary table below describes the JSON object fields for the <a href="rtsf_at_checkout_events/checkout_events/#rtsf-at-checkout-events">Real Time Sensor Fusion for Loss Detection at Checkout Events</a>.</p>
<table>
<thead>
<tr>
<th>Field name</th>
<th>Data type</th>
<th>Events used in</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>lane_id</code></td>
<td>string</td>
<td>All</td>
<td>Unique identifier of the self checkout lane</td>
</tr>
<tr>
<td><code>event_time</code></td>
<td>number</td>
<td>All</td>
<td>Unix nanosecond timestamp of when the event occured</td>
</tr>
<tr>
<td><code>basket_id</code></td>
<td>string</td>
<td>All <a href="rtsf_at_checkout_events/checkout_events/#pos-events">POS Events</a></td>
<td>Unique identifier of self checkout session basket</td>
</tr>
<tr>
<td><code>customer_id</code></td>
<td>string</td>
<td>All <a href="rtsf_at_checkout_events/checkout_events/#pos-events">POS Events</a></td>
<td>Optional unique identifier of the customer using the self checkout.</td>
</tr>
<tr>
<td><code>employee_id</code></td>
<td>string</td>
<td>All <a href="rtsf_at_checkout_events/checkout_events/#pos-events">POS Events</a></td>
<td>Optional unique identifier of the employee overseeing the self checkout.</td>
</tr>
<tr>
<td><code>product_id</code></td>
<td>string</td>
<td>POS <a href="rtsf_at_checkout_events/checkout_events/#pos-events">Scanned Item</a></td>
<td>Unique identifier of the product that was scanned. <br /><strong>This reference design expects a 14 digit UPC</strong></td>
</tr>
<tr>
<td><code>product_id_type</code></td>
<td>string</td>
<td>POS <a href="rtsf_at_checkout_events/checkout_events/#pos-events">Scanned Item</a></td>
<td>Type of the associated product ID. Value can be <code>UPC</code>, <code>SKU</code>, or <code>PLU</code>. <br /><strong>This reference design expects <code>UPC</code></strong></td>
</tr>
<tr>
<td><code>product_name</code></td>
<td>string</td>
<td>POS <a href="rtsf_at_checkout_events/checkout_events/#pos-events">Scanned Item</a></td>
<td>Name of the product that was scanned</td>
</tr>
<tr>
<td><code>quantity</code></td>
<td>number</td>
<td>POS <a href="rtsf_at_checkout_events/checkout_events/#pos-events">Scanned Item</a></td>
<td>Quantity of the products that were scanned</td>
</tr>
<tr>
<td><code>quantity_unit</code></td>
<td>string</td>
<td>POS <a href="rtsf_at_checkout_events/checkout_events/#pos-events">Scanned Item</a></td>
<td>Units for the associated quantity. <br />Values can be <code>EA</code>, <code>Each</code>, <code>lbs</code>, <code>g</code>, <code>kg</code> or <code>oz</code><br /><strong>This reference design expects <code>EA</code>, <code>Each</code>, or <code>lbs</code></strong></td>
</tr>
<tr>
<td><code>unit_price</code></td>
<td>number</td>
<td>POS <a href="rtsf_at_checkout_events/checkout_events/#pos-events">Scanned Item</a></td>
<td>Price of the individual products scanned.</td>
</tr>
<tr>
<td><code>scale_id</code></td>
<td>string</td>
<td><a href="rtsf_at_checkout_events/checkout_events/#scale-events">Scale Item</a></td>
<td>Unique identifier for the scale sending the events</td>
</tr>
<tr>
<td><code>total</code></td>
<td>number</td>
<td><a href="rtsf_at_checkout_events/checkout_events/#scale-events">Scale Item</a></td>
<td>Total weight for items on the scale</td>
</tr>
<tr>
<td><code>units</code></td>
<td>string</td>
<td><a href="rtsf_at_checkout_events/checkout_events/#scale-events">Scale Item</a></td>
<td>Units for the associated total weight.<br />Values can be <code>lbs</code>, <code>g</code>, <code>kg</code> or <code>oz</code> <br /><strong>This reference design expects <code>lbs</code></strong></td>
</tr>
<tr>
<td><code>product_name</code></td>
<td>string</td>
<td><a href="rtsf_at_checkout_events/checkout_events/#cv-roi-events">CV ROI</a></td>
<td>Unique identifier of the product identified by CV object detection.</td>
</tr>
<tr>
<td><code>roi_action</code></td>
<td>string</td>
<td><a href="rtsf_at_checkout_events/checkout_events/#cv-roi-events">CV ROI</a> &amp; <a href="rtsf_at_checkout_events/checkout_events/#rfid-roi-events">RFID ROI</a></td>
<td>Action of the associate product identified.<br />Value can be either <code>ENTERED</code> or <code>EXITED</code>.</td>
</tr>
<tr>
<td><code>roi_name</code></td>
<td>string</td>
<td><a href="rtsf_at_checkout_events/checkout_events/#cv-roi-events">CV ROI</a> &amp; <a href="rtsf_at_checkout_events/checkout_events/#rfid-roi-events">RFID ROI</a></td>
<td>Name of the region that the associate product was identified with. See the <a href="configuration/#configuration">Configuration</a> section above for details on how these names after configured.</td>
</tr>
<tr>
<td><code>epc</code></td>
<td>string</td>
<td><a href="rtsf_at_checkout_events/checkout_events/#rfid-roi-events">RFID ROI</a></td>
<td>Unique EPC code of the product identified by RFID</td>
</tr>
</tbody>
</table>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
        
          <a href="phases/phase1/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Phase 1 - Simulate Events
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="assets/javascripts/vendor.18f0862e.min.js"></script>
      <script src="assets/javascripts/bundle.994580cf.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: ".",
          features: [],
          search: Object.assign({
            worker: "assets/javascripts/worker/search.9c0e82ba.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://unpkg.com/lunr/lunr.js"></script>
      
    
  </body>
</html>