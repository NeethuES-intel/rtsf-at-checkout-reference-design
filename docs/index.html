



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.6.0">
    
    
      
        <title>Real Time Sensor Fusion for Loss Detection at Checkout</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/application.1b62728e.css">
      
      
    
    
      <script src="assets/javascripts/modernizr.268332fc.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
      <link rel="stylesheet" href="stylesheets/extra.css">
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-154731555-1", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#real-time-sensor-fusion-for-loss-detection-at-checkout-reference-design" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="." title="Real Time Sensor Fusion for Loss Detection at Checkout" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Real Time Sensor Fusion for Loss Detection at Checkout
            </span>
            <span class="md-header-nav__topic">
              
                Real Time Sensor Fusion for Loss Detection at Checkout Reference Design
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="." title="Real Time Sensor Fusion for Loss Detection at Checkout" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Real Time Sensor Fusion for Loss Detection at Checkout
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Real Time Sensor Fusion for Loss Detection at Checkout Reference Design
      </label>
    
    <a href="." title="Real Time Sensor Fusion for Loss Detection at Checkout Reference Design" class="md-nav__link md-nav__link--active">
      Real Time Sensor Fusion for Loss Detection at Checkout Reference Design
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#block-diagram" class="md-nav__link">
    Block Diagram
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recommended-domain-knowledge" class="md-nav__link">
    Recommended Domain Knowledge
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    Getting Started
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-clone-the-repository" class="md-nav__link">
    Step 1: Clone the repository
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-build-the-reference-design" class="md-nav__link">
    Step 2: Build the Reference Design
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-build-edgex-rest-device-service" class="md-nav__link">
    Step 3: Build EdgeX REST Device service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-use-docker-compose-to-start-the-reference-design-suite-to-do-so-use" class="md-nav__link">
    Step 4: Use docker-compose to start the reference design suite. To do so, use
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-dive-in" class="md-nav__link">
    Step 5: Dive in
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-use-the-compose-files" class="md-nav__link">
    How to Use the Compose Files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#components-to-build-a-solution-based-on-this-reference-design" class="md-nav__link">
    Components to Build a Solution based on this Reference Design
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#components-to-consider-adding" class="md-nav__link">
    Components to Consider Adding
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#components-to-consider-replacing-or-enhancing" class="md-nav__link">
    Components to Consider Replacing or Enhancing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-dictionary" class="md-nav__link">
    Data Dictionary
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Phases
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Phases
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="phases/phase1/" title="Phase 1 - Simulate Events" class="md-nav__link">
      Phase 1 - Simulate Events
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="phases/phase2/" title="Phase 2 - Bring Your Own Software" class="md-nav__link">
      Phase 2 - Bring Your Own Software
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="phases/phase3/" title="Phase 3 - Bring Your Own Hardware" class="md-nav__link">
      Phase 3 - Bring Your Own Hardware
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      RTSF at Checkout Events
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        RTSF at Checkout Events
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="rtsf_at_checkout_events/checkout_events/" title="Checkout events" class="md-nav__link">
      Checkout events
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="rtsf_at_checkout_events/event_simulation/" title="Event simulation" class="md-nav__link">
      Event simulation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="device_services/" title="Device services" class="md-nav__link">
      Device services
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="configuration/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="notifications/" title="How to Send Notifications through EdgeX (optional)" class="md-nav__link">
      How to Send Notifications through EdgeX (optional)
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="troubleshooting/" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="references/" title="References" class="md-nav__link">
      References
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#block-diagram" class="md-nav__link">
    Block Diagram
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recommended-domain-knowledge" class="md-nav__link">
    Recommended Domain Knowledge
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    Getting Started
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-clone-the-repository" class="md-nav__link">
    Step 1: Clone the repository
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-build-the-reference-design" class="md-nav__link">
    Step 2: Build the Reference Design
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-build-edgex-rest-device-service" class="md-nav__link">
    Step 3: Build EdgeX REST Device service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-use-docker-compose-to-start-the-reference-design-suite-to-do-so-use" class="md-nav__link">
    Step 4: Use docker-compose to start the reference design suite. To do so, use
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-dive-in" class="md-nav__link">
    Step 5: Dive in
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-use-the-compose-files" class="md-nav__link">
    How to Use the Compose Files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#components-to-build-a-solution-based-on-this-reference-design" class="md-nav__link">
    Components to Build a Solution based on this Reference Design
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#components-to-consider-adding" class="md-nav__link">
    Components to Consider Adding
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#components-to-consider-replacing-or-enhancing" class="md-nav__link">
    Components to Consider Replacing or Enhancing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-dictionary" class="md-nav__link">
    Data Dictionary
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="real-time-sensor-fusion-for-loss-detection-at-checkout-reference-design">Real Time Sensor Fusion for Loss Detection at Checkout Reference Design</h1>
<h2 id="introduction">Introduction</h2>
<p>This guide helps you build and run the Real Time Sensor Fusion for Loss Detection at Checkout Reference Design.</p>
<p>Upon completing the steps in this guide, you will be ready to integrate sensors and services to build your own complete solution.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>This guide does not create a complete, ready-to-use solution. Instead, upon completing the steps in this guide, you will be ready to integrate sensors and services to build your own Real Time Sensor Fusion for Loss Detection at Checkout solution.*</p>
</div>
<h3 id="block-diagram">Block Diagram</h3>
<p>The high-level diagram below shows the sensors and services used with the Real Time Sensor Fusion for Loss Detection at Checkout Reference Design. The diagram shows the sensors and services, and how they communicate through EdgeX. Intel provides the services outlined in green, and you must obtain EdgeX and the sensors and services in pink.
<img alt="Real Time Sensor Fusion for Loss Detection at Checkout Diagram" src="images/rtsf-loss-detection-at-checkout.png" /></p>
<h3 id="prerequisites">Prerequisites</h3>
<p>The following items are required to build the Real Time Sensor Fusion for Loss Detection at Checkout Reference Design. You will need additional hardware and software when you are ready to build your own solution. </p>
<ul>
<li>Point-of-Sale (POS) of choice. You must use a POS that integrates with either the EdgeX REST or MQTT Device. See <a href="rtsf_at_checkout_events/checkout_events/#pos-events">POS Events</a> for information about integration with the <a href="device_services/#edgex-rest-and-mqtt-device-services">EdgeX Device Services</a> to send POS Events</li>
<li>Docker</li>
<li>Docker-Compose</li>
<li>Go 1.12+</li>
<li>GIT</li>
<li>make</li>
</ul>
<h3 id="recommended-domain-knowledge">Recommended Domain Knowledge</h3>
<ul>
<li>MQTT</li>
<li>REST</li>
<li>POS systems, including customizations (Transactions, Real-Time Transaction Log (RTTL))</li>
<li>Computer Vision concepts, if using CV Components</li>
<li>RFID concepts, if using RFID Components</li>
</ul>
<h2 id="getting-started">Getting Started</h2>
<h3 id="step-1-clone-the-repository">Step 1: Clone the repository</h3>
<div class="codehilite"><pre><span></span><span class="err">git clone  https://github.com/intel-iot-devkit/rtsf-at-checkout-reference-design &amp;&amp; cd ./rtsf-at-checkout-reference-design</span>
</pre></div>


<h3 id="step-2-build-the-reference-design">Step 2: Build the Reference Design</h3>
<p>You must build the provided component services and create local docker images. To do so, run:</p>
<div class="codehilite"><pre><span></span><span class="err">make docker</span>
</pre></div>


<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command may take a while to run depending on your internet connection and machine specifications.</p>
</div>
<div class="admonition success">
<p class="admonition-title">Success</p>
<p>After running this command , you should see the following docker images when running <code>docker images</code>:</p>
<ul>
<li><code>rtsf-at-checkout/event-reconciler</code></li>
<li><code>rtsf-at-checkout/device-scale</code></li>
<li><code>rtsf-at-checkout/product-lookup</code></li>
<li><code>rtsf-at-checkout/loss-detector</code></li>
<li><code>rtsf-at-checkout/rsp-controller-event-handler</code></li>
<li><code>rtsf-at-checkout/cv-region-of-interest</code></li>
</ul>
</div>
<div class="admonition failure">
<p class="admonition-title">Failure</p>
<p>If you do not see all of the above docker images, scan the the console output and look for errors. Sometimes dependencies fail to resolve and must be run again. To try again,
simply repeat the <code>make docker</code> command.</p>
</div>
<h3 id="step-3-build-edgex-rest-device-service">Step 3: Build EdgeX REST Device service</h3>
<p>The EdgeX REST device service is currently the process of being released. Until a release docker image is available via Edge Foundry, we must build it locally by running the following command:</p>
<div class="codehilite"><pre><span></span><span class="err">make device-rest</span>
</pre></div>


<p>This make target will clone the device-rest-go repo and build the docker image.</p>
<div class="admonition success">
<p class="admonition-title">Success</p>
<p>After running this command , you should now see the following docker image (along with the images from Step 2) when running <code>docker images</code>:</p>
<ul>
<li><code>edgexfoundry/docker-device-rest-go</code></li>
</ul>
</div>
<div class="admonition failure">
<p class="admonition-title">Failure</p>
<p>If you do not see the above docker image, scan the the console output and look for errors. Sometimes dependencies fail to resolve and must be run again. To try again,
simply repeat the <code>make device-rest</code> command.</p>
</div>
<h3 id="step-4-use-docker-compose-to-start-the-reference-design-suite-to-do-so-use">Step 4: Use docker-compose to start the reference design suite. To do so, use</h3>
<div class="codehilite"><pre><span></span><span class="err">make run-base</span>
</pre></div>


<p>This command starts all the EdgeX services and then starts all the Loss Detection services.</p>
<div class="admonition success">
<p class="admonition-title">Success</p>
<p>After running this command, you should now see the following output when running <code>docker ps --format 'table{{.Image}}\t{{.Status}}'</code>:</p>
<table>
<thead>
<tr>
<th>IMAGE</th>
<th>STATUS</th>
</tr>
</thead>
<tbody>
<tr>
<td>rtsf-at-checkout/product-lookup:dev</td>
<td>Up 3 minutes</td>
</tr>
<tr>
<td>rtsf-at-checkout/loss-detector:dev</td>
<td>Up 3 minutes</td>
</tr>
<tr>
<td>rtsf-at-checkout/event-reconciler:dev</td>
<td>Up 3 minutes</td>
</tr>
<tr>
<td>rtsf-at-checkout/rsp-controller-event-handler:dev</td>
<td>Up 3 minutes</td>
</tr>
<tr>
<td>rtsf-at-checkout/device-scale:dev</td>
<td>Up 3 minutes</td>
</tr>
<tr>
<td>edgexfoundry/docker-device-rest-go:0.0.0-dev</td>
<td>Up 3 minutes</td>
</tr>
<tr>
<td>edgexfoundry/docker-device-mqtt-go:1.1.0</td>
<td>Up 3 minutes</td>
</tr>
<tr>
<td>edgexfoundry/docker-support-scheduler-go:1.1.0</td>
<td>Up 3 minutes</td>
</tr>
<tr>
<td>edgexfoundry/docker-core-command-go:1.1.0</td>
<td>Up 3 minutes</td>
</tr>
<tr>
<td>edgexfoundry/docker-core-data-go:1.1.0</td>
<td>Up 3 minutes</td>
</tr>
<tr>
<td>edgexfoundry/docker-support-notifications-go:1.1.0</td>
<td>Up 3 minutes</td>
</tr>
<tr>
<td>edgexfoundry/docker-core-metadata-go:1.1.0</td>
<td>Up 3 minutes</td>
</tr>
<tr>
<td>edgexfoundry/docker-support-logging-go:1.1.0</td>
<td>Up 3 minutes</td>
</tr>
<tr>
<td>edgexfoundry/docker-core-config-seed-go:1.1.0</td>
<td>Exited (0) 3 minutes ago</td>
</tr>
<tr>
<td>edgexfoundry/docker-edgex-mongo:1.1.0</td>
<td>Up 3 minutes</td>
</tr>
<tr>
<td>consul:1.3.1</td>
<td>Up 3 minutes</td>
</tr>
<tr>
<td>edgexfoundry/docker-edgex-volume:1.1.0</td>
<td>Up 3 minutes</td>
</tr>
<tr>
<td>eclipse-mosquitto:1.5.8</td>
<td>Up 3 minutes</td>
</tr>
</tbody>
</table>
<p>If any of these service show that they have exited other than <code>edgexfoundry/docker-core-config-seed-go:1.1.0</code>, try running <code>make run-base</code> again.</p>
</div>
<h3 id="step-5-dive-in">Step 5: Dive in</h3>
<p>At this point you now have all of the core components of RTSF at Checkout up and running, You are now ready to begin walking through the following phases. </p>
<ul>
<li><a href="phases/phase1/">Phase 1</a> - Simulates Data using either Postman or our provided Event Simulator</li>
<li><a href="phases/phase2/">Phase 2</a> - Integrate POS software using either an open-source POS or your own proprietary POS system.</li>
<li><a href="phases/phase3/">Phase 3</a> - Integrate your own hardware to complete an end-to-end loss prevention system</li>
</ul>
<h2 id="how-to-use-the-compose-files">How to Use the Compose Files</h2>
<p>The docker-compose files are divided up to let you bring up or take down individual sensor ingestion components. Visit each individual <a href="#references-and-links-to-the-documentation-of-the-individual-components">GitHub subrepository</a> to learn about the responsibility of each service. </p>
<table>
<thead>
<tr>
<th>Compose File</th>
<th>Purpose</th>
<th>Command</th>
</tr>
</thead>
<tbody>
<tr>
<td>Portainer</td>
<td>Container management</td>
<td><code>docker-compose -f docker-compose.portainer.yml up -d</code></td>
</tr>
<tr>
<td>EdgeX and its components</td>
<td></td>
<td><code>docker-compose -f docker-compose.edgex.yml up -d</code></td>
</tr>
<tr>
<td>Real Time Sensor Fusion for Loss Detection at Checkout Core Services and its components</td>
<td></td>
<td><code>docker-compose -f docker-compose.loss-detection.yml up -d</code></td>
</tr>
<tr>
<td>RFID Components (Intel® RSP SW Toolkit)</td>
<td></td>
<td><code>docker-compose -f docker-compose.rsp.yml up -d</code></td>
</tr>
<tr>
<td>Video Analytics Pipeline (VAP)</td>
<td></td>
<td><code>docker-compose -f docker-compose.vap.yml up -d</code></td>
</tr>
</tbody>
</table>
<h2 id="components-to-build-a-solution-based-on-this-reference-design">Components to Build a Solution based on this Reference Design</h2>
<p>The reference design you created is not a complete solution. It provides the base components for creating a sensor fusion based framework. It is your choice on how many and which sensors to include. This section provides information about components you might want to include or replace.</p>
<h3 id="components-to-consider-adding">Components to Consider Adding</h3>
<table>
<thead>
<tr>
<th>Component</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Security scale in bagging area</td>
<td>A Scale Device service is provided for a CAS USB scale. As an alternative, you can have Scale Events sent to either the EdgeX REST or MQTT Device Services. For more information, see  <a href="rtsf_at_checkout_events/checkout_events/#scale-events">Scale Events</a> and integrating with the <a href="device_services/#edgex-rest-and-mqtt-device-services">EdgeX Device Services</a> to send the Scale Events.</td>
</tr>
<tr>
<td>Computer Vision (CV) Object Detection Model</td>
<td>The Intel® Distribution of OpenVINO toolkit-based object detection model used by the Video Analytics Pipeline (VAP) service is provided as an example, but is not intended for your final solution. The VAP and CV ROI Enter Exit service in this reference design create the CV ROI Events that are sent to the <a href="device_services/#edgex-mqtt-device-service">EdgeX MQTT Device Service</a>. See <a href="rtsf_at_checkout_events/checkout_events/#cv-roi-events">CV ROI Events</a>.</td>
</tr>
<tr>
<td>Intel® RFID Sensors</td>
<td>This reference design relies on the <strong>Intel® Retail Sensor Platform (Intel® RSP)</strong> <a href="https://software.intel.com/en-us/retail/rfid-sensor-platform">https://software.intel.com/en-us/retail/rfid-sensor-platform</a> which has its own custom EdgeX Device Service which it sends RFID events. These events are transformed into RFID ROI Events by the provided <strong>RSP Controller Event Handler</strong> service. See below for details on <a href="rtsf_at_checkout_events/checkout_events/#rfid-roi-events">RFID ROI Events</a>.This RSP has its own custom EdgeX Device Service to which it sends RFID events. These events are transformed into RFID ROI Events by the provided RSP Controller Event Handler service. If you are interested in Intel® RSP RFID Sensors, see <a href="https://software.intel.com/en-us/retail/rfid-sensor-platform#buy">https://software.intel.com/en-us/retail/rfid-sensor-platform#buy</a></td>
</tr>
<tr>
<td>Reconciler Service</td>
<td>This service provided does the analytics of reconciling all the sensor events to identify suspect items. As an option, you can replace the provided service with a more advanced service.</td>
</tr>
<tr>
<td>Detector Service</td>
<td>The service provided demonstrates how to send an email notification using the EdgeX Notifications service. The contents of the email is a simple JSON list of suspect items. As an option, you can replace the provided service with a more advanced service.</td>
</tr>
<tr>
<td>Computer Vision Region of Interest (ROI) Solution</td>
<td>If you chose to create your own complete Computer Vision object detection and CV ROI enter/exit solution. Exclude running the components in the docker-compose.vap.yml compose file and remove the cv-region-of-interest from the docker-compose.loss-detection.yml compose file. Integrate your CV solution with either the EdgeX REST or MQTT Device Services to send the CV ROI events.</td>
</tr>
</tbody>
</table>
<h3 id="components-to-consider-replacing-or-enhancing">Components to Consider Replacing or Enhancing</h3>
<table>
<thead>
<tr>
<th>Component</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Reconciler service</td>
<td>The Reconciler Service performs the analytics of reconciling the sensor events to identify suspect items. While the service provided performs adequately, your analytics team might be able to improve on this reference implementation.</td>
</tr>
<tr>
<td>Detector Service</td>
<td>The Dectector Service demonstrates how to send email notifications using the EdgeX Notifications service. The email message content is a simple JSON list of suspect items.</td>
</tr>
<tr>
<td>Product Lookup Service</td>
<td>This service provided is a basic implementation of a Product Information Management Lookup service. It uses a JSON file as a database for the product information. It is recommended that you replace the service with an Enterprise Resource Planning (ERP) System.</td>
</tr>
<tr>
<td>RFID services</td>
<td>If you choose to use a different RFID solution, in addition to providing your integration to generate the RFID ROI Events you will need to exclude running the components in the <code>docker-compose.rsp.yml</code> compose file and remove the <code>rsp-controller-event-handler</code> from the <code>docker-compose.loss-detection.yml</code> compose file.  You will also need to integrate your RFID solution with either the EdgeX REST or MQTT Device Services to send the RFID events. See below for details on <a href="rtsf_at_checkout_events/checkout_events/#rfid-roi-events">RFID ROI events</a> and integrating with these <a href="device_services/#edgex-rest-and-mqtt-device-services">EdgeX Device Services</a> to send RFID ROI events.</td>
</tr>
</tbody>
</table>
<h2 id="data-dictionary">Data Dictionary</h2>
<p>The data dictionary table below describes the JSON object fields for the <a href="rtsf_at_checkout_events/checkout_events/#rtsf-at-checkout-events">Real Time Sensor Fusion for Loss Detection at Checkout Events</a>.</p>
<table>
<thead>
<tr>
<th>Field Name</th>
<th>Data Type</th>
<th>Events used in</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>lane_id</td>
<td>string</td>
<td>All</td>
<td>Unique identifier of the self checkout lane</td>
</tr>
<tr>
<td>event_time</td>
<td>number</td>
<td>All</td>
<td>Unix nanosecond timestamp of when the event occured</td>
</tr>
<tr>
<td>basket_id</td>
<td>string</td>
<td>All <a href="rtsf_at_checkout_events/checkout_events/#pos-events">POS Events</a></td>
<td>Unique identifier of self checkout session basket</td>
</tr>
<tr>
<td>customer_id</td>
<td>string</td>
<td>All <a href="rtsf_at_checkout_events/checkout_events/#pos-events">POS Events</a></td>
<td>Optional unique identifier of the customer using the self checkout.</td>
</tr>
<tr>
<td>employee_id</td>
<td>string</td>
<td>All <a href="rtsf_at_checkout_events/checkout_events/#pos-events">POS Events</a></td>
<td>Optional unique identifier of the employee overseeing the self checkout.</td>
</tr>
<tr>
<td>product_id</td>
<td>string</td>
<td>POS <a href="rtsf_at_checkout_events/checkout_events/#pos-events">Scanned Item</a></td>
<td>Unique identifier of the product that was scanned. <br /><strong>This reference design expects a 14 digit UPC</strong></td>
</tr>
<tr>
<td>product_id_type</td>
<td>string</td>
<td>POS <a href="rtsf_at_checkout_events/checkout_events/#pos-events">Scanned Item</a></td>
<td>Type of the associated product ID. Value can be <code>UPC</code>, <code>SKU</code>, or <code>PLU</code>. <br /><strong>This reference design expects <code>UPC</code></strong></td>
</tr>
<tr>
<td>product_name</td>
<td>string</td>
<td>POS <a href="rtsf_at_checkout_events/checkout_events/#pos-events">Scanned Item</a></td>
<td>Name of the product that was scanned</td>
</tr>
<tr>
<td>quantity</td>
<td>number</td>
<td>POS <a href="rtsf_at_checkout_events/checkout_events/#pos-events">Scanned Item</a></td>
<td>Quantity of the products that were scanned</td>
</tr>
<tr>
<td>quantity_unit</td>
<td>string</td>
<td>POS <a href="rtsf_at_checkout_events/checkout_events/#pos-events">Scanned Item</a></td>
<td>Units for the associated quantity. <br />Values can be <code>EA</code>, <code>Each</code>, <code>lbs</code>, <code>g</code>, <code>kg</code> or <code>oz</code><br /><strong>This reference design expects <code>EA</code>, <code>Each</code>, or <code>lbs</code></strong></td>
</tr>
<tr>
<td>unit_price</td>
<td>number</td>
<td>POS <a href="rtsf_at_checkout_events/checkout_events/#pos-events">Scanned Item</a></td>
<td>Price of the individual products scanned.</td>
</tr>
<tr>
<td>scale_id</td>
<td>string</td>
<td><a href="rtsf_at_checkout_events/checkout_events/#scale-events">Scale Item</a></td>
<td>Unique identifier for the scale sending the events</td>
</tr>
<tr>
<td>total</td>
<td>number</td>
<td><a href="rtsf_at_checkout_events/checkout_events/#scale-events">Scale Item</a></td>
<td>Total weight for items on the scale</td>
</tr>
<tr>
<td>units</td>
<td>string</td>
<td><a href="rtsf_at_checkout_events/checkout_events/#scale-events">Scale Item</a></td>
<td>Units for the associated total weight.<br />Values can be <code>lbs</code>, <code>g</code>, <code>kg</code> or <code>oz</code> <br /><strong>This reference design expects <code>lbs</code></strong></td>
</tr>
<tr>
<td>product_name</td>
<td>string</td>
<td><a href="rtsf_at_checkout_events/checkout_events/#cv-roi-events">CV ROI</a></td>
<td>Unique identifier of the product identified by CV object detection.</td>
</tr>
<tr>
<td>roi_action</td>
<td>string</td>
<td><a href="rtsf_at_checkout_events/checkout_events/#cv-roi-events">CV ROI</a> &amp; <a href="rtsf_at_checkout_events/checkout_events/#rfid-roi-events">RFID ROI</a></td>
<td>Action of the associate product identified.<br />Value can be either <code>ENTERED</code> or <code>EXITED</code>.</td>
</tr>
<tr>
<td>roi_name</td>
<td>string</td>
<td><a href="rtsf_at_checkout_events/checkout_events/#cv-roi-events">CV ROI</a> &amp; <a href="rtsf_at_checkout_events/checkout_events/#rfid-roi-events">RFID ROI</a></td>
<td>Name of the region that the associate product was identified with. See the <a href="configuration/#configuration">Configuration</a> section above for details on how these names after configured.</td>
</tr>
<tr>
<td>epc</td>
<td>string</td>
<td><a href="rtsf_at_checkout_events/checkout_events/#rfid-roi-events">RFID ROI</a></td>
<td>Unique EPC code of the product identified by RFID</td>
</tr>
</tbody>
</table>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
        
          <a href="phases/phase1/" title="Phase 1 - Simulate Events" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Phase 1 - Simulate Events
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="assets/javascripts/application.808e90bb.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"."}})</script>
      
        <script src="https://unpkg.com/lunr/lunr.js"></script>
      
    
  </body>
</html>