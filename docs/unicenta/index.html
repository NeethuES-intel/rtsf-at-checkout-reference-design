



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.3">
    
    
      
        <title>Instructions for Integrating with uniCenta oPOS - Real Time Sensor Fusion for Loss Detection at Checkout</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.30686662.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-154731555-1", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#instructions-for-integrating-with-unicenta-opos" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Real Time Sensor Fusion for Loss Detection at Checkout" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Real Time Sensor Fusion for Loss Detection at Checkout
            </span>
            <span class="md-header-nav__topic">
              
                Instructions for Integrating with uniCenta oPOS
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="Real Time Sensor Fusion for Loss Detection at Checkout" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Real Time Sensor Fusion for Loss Detection at Checkout
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Real Time Sensor Fusion for Loss Detection at Checkout Reference Design" class="md-nav__link">
      Real Time Sensor Fusion for Loss Detection at Checkout Reference Design
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../configuration/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../device_services/" title="Device services" class="md-nav__link">
      Device services
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../troubleshooting/" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Instructions for Integrating with uniCenta oPOS
      </label>
    
    <a href="./" title="Instructions for Integrating with uniCenta oPOS" class="md-nav__link md-nav__link--active">
      Instructions for Integrating with uniCenta oPOS
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#install-unicenta-and-mysql" class="md-nav__link">
    Install uniCenta and MySQL
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upload-products-list" class="md-nav__link">
    Upload Products List
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#write-custom-unicenta-scripts" class="md-nav__link">
    Write Custom uniCenta Scripts
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Rtsf at checkout events
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Rtsf at checkout events
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../rtsf_at_checkout_events/checkout_events/" title="Checkout events" class="md-nav__link">
      Checkout events
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../rtsf_at_checkout_events/event_simulation/" title="Event simulation" class="md-nav__link">
      Event simulation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#install-unicenta-and-mysql" class="md-nav__link">
    Install uniCenta and MySQL
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upload-products-list" class="md-nav__link">
    Upload Products List
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#write-custom-unicenta-scripts" class="md-nav__link">
    Write Custom uniCenta Scripts
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="instructions-for-integrating-with-unicenta-opos">Instructions for Integrating with uniCenta oPOS</h1>
<p>uniCenta is an open source Point Of Sale application that runs on Windows, Linux, and Mac devices.  It uses a MySQL database to store product information; the MySQL database must be configured separately as it is not a part of the uniCenta installer.  In this guide you will learn how to download and install uniCenta, how to upload a product list to uniCenta, and how to install custom scripts to communicate to the REST device service. For any additional uniCenta support see the uniCenta <a href="https://unicenta.com/" title="uniCenta oPOS">site</a> where you can access additional resources like user guides, source code, and scripts.</p>
<h2 id="install-unicenta-and-mysql">Install uniCenta and MySQL</h2>
<h3 id="prerequisites">Prerequisites</h3>
<ul>
<li>Java JRE 8</li>
<li>MySQL Server</li>
</ul>
<h3 id="installation">Installation</h3>
<p>Download the installer for your operating system from the link <a href="https://sourceforge.net/projects/unicentaopos/" title="uniCenta Installer packages">here</a>.  Once uniCenta is installed you need to link it to your the MySQL.  </p>
<p>To link uniCenta to MySQL</p>
<ul>
<li>Create a uniCenta user for MySQL.</li>
<li>Open uniCenta, navigate to the Databases tab on the configuration page</li>
<li>Add the connection information for your uniCenta user on MySQL</li>
</ul>
<p>uniCenta has a useful <a href="https://www.youtube.com/watch?v=URglMDmxwS0&amp;list=PLCCYL2bRmxw1tngbebCFY8fg1uaZc8jVE&amp;index=3" title="uniCenta oPOS Video series">video series on YouTube</a> on installing and using their product  </p>
<h3 id="upload-products-list">Upload Products List</h3>
<p>To upload a product inventory list to unicenta open uniCenta, navigate to 'Products Import' by opening the side navbar and clicking 'Tools' -&gt; 'Products Import', then select the CSV file containing your products, for every field in the 'Products Import' page select the corresponding field in the dropdown menu.  An example products file is included below.</p>
<div class="codehilite"><pre><span></span><span class="n">Reference</span><span class="p">,</span><span class="n">Barcode</span><span class="p">,</span><span class="n">Name</span><span class="p">,</span><span class="n">Buy</span> <span class="n">Price</span><span class="p">,</span><span class="n">Sell</span> <span class="n">Price</span><span class="p">,</span><span class="n">Tax</span><span class="p">,</span><span class="n">Category</span><span class="p">,</span><span class="k">Default</span><span class="p">,</span><span class="n">Supplier</span>
<span class="n">ABE391</span><span class="p">,</span><span class="mi">013000006408</span><span class="p">,</span><span class="n">Ketchup</span><span class="p">,</span><span class="err">$</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="p">,</span><span class="err">$</span><span class="mi">1</span><span class="p">.</span><span class="mi">99</span><span class="p">,</span><span class="mi">000</span><span class="p">,</span><span class="k">ALL</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">Jonah</span> <span class="n">Albert</span>
<span class="n">PKL121</span><span class="p">,</span><span class="mi">049000050158</span><span class="p">,</span><span class="n">Sprite</span> <span class="mi">2</span><span class="n">L</span><span class="p">,</span><span class="err">$</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="p">,</span><span class="err">$</span><span class="mi">1</span><span class="p">.</span><span class="mi">99</span><span class="p">,</span><span class="mi">000</span><span class="p">,</span><span class="k">ALL</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">Benjamin</span> <span class="n">Wooten</span>
<span class="n">DKK435</span><span class="p">,</span><span class="mi">021200519598</span><span class="p">,</span><span class="n">Ocelo</span> <span class="n">Sponges</span><span class="p">,</span><span class="err">$</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="p">,</span><span class="err">$</span><span class="mi">4</span><span class="p">.</span><span class="mi">99</span><span class="p">,</span><span class="mi">000</span><span class="p">,</span><span class="k">ALL</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="n">Garrison</span> <span class="n">Calhoun</span>
<span class="n">SCO091</span><span class="p">,</span><span class="mi">028400159609</span><span class="p">,</span><span class="n">Ruffles</span><span class="p">,</span><span class="err">$</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="p">,</span><span class="err">$</span><span class="mi">2</span><span class="p">.</span><span class="mi">99</span><span class="p">,</span><span class="mi">000</span><span class="p">,</span><span class="k">ALL</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="n">Tanner</span> <span class="n">Hampton</span>
<span class="n">POU311</span><span class="p">,</span><span class="mi">052000338775</span><span class="p">,</span><span class="n">Gatorade</span><span class="p">,</span><span class="err">$</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="p">,</span><span class="err">$</span><span class="mi">1</span><span class="p">.</span><span class="mi">99</span><span class="p">,</span><span class="mi">000</span><span class="p">,</span><span class="k">ALL</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="n">Gil</span> <span class="n">Mayer</span>
<span class="n">KFS842</span><span class="p">,</span><span class="mi">038000183713</span><span class="p">,</span><span class="n">Pringles</span><span class="p">,</span><span class="err">$</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="p">,</span><span class="err">$</span><span class="mi">2</span><span class="p">.</span><span class="mi">99</span><span class="p">,</span><span class="mi">000</span><span class="p">,</span><span class="k">ALL</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="n">Scott</span> <span class="n">Herman</span>
<span class="n">IFG952</span><span class="p">,</span><span class="mi">048001353565</span><span class="p">,</span><span class="n">Mayonnaise</span><span class="p">,</span><span class="err">$</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="p">,</span><span class="err">$</span><span class="mi">5</span><span class="p">.</span><span class="mi">99</span><span class="p">,</span><span class="mi">000</span><span class="p">,</span><span class="k">ALL</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="n">Kermit</span> <span class="n">Bean</span>
<span class="n">OLP122</span><span class="p">,</span><span class="mi">043000955437</span><span class="p">,</span><span class="n">Koolaid</span> <span class="n">Fruit</span> <span class="n">Punch</span><span class="p">,</span><span class="err">$</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="p">,</span><span class="err">$</span><span class="mi">0</span><span class="p">.</span><span class="mi">99</span><span class="p">,</span><span class="mi">000</span><span class="p">,</span><span class="k">ALL</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="n">Ben</span> <span class="n">Ben</span>
<span class="n">IKA931</span><span class="p">,</span><span class="mi">022000008916</span><span class="p">,</span><span class="n">Extra</span> <span class="n">Peppermint</span> <span class="n">Gum</span><span class="p">,</span><span class="err">$</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="p">,</span><span class="err">$</span><span class="mi">1</span><span class="p">.</span><span class="mi">99</span><span class="p">,</span><span class="mi">000</span><span class="p">,</span><span class="k">ALL</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="n">Kermit</span> <span class="n">Bean</span>
<span class="n">QWE211</span><span class="p">,</span><span class="mi">051700988235</span><span class="p">,</span><span class="n">Finish</span> <span class="n">Dishwasher</span> <span class="n">Tablet</span><span class="p">,</span><span class="err">$</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="p">,</span><span class="err">$</span><span class="mi">12</span><span class="p">.</span><span class="mi">99</span><span class="p">,</span><span class="mi">000</span><span class="p">,</span><span class="k">ALL</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="n">Kermit</span> <span class="n">Bean</span>
<span class="n">IKA321</span><span class="p">,</span><span class="mi">012000163173</span><span class="p">,</span><span class="n">Mountain</span> <span class="n">Dew</span> <span class="mi">6</span> <span class="n">Pack</span><span class="p">,</span><span class="err">$</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="p">,</span><span class="err">$</span><span class="mi">3</span><span class="p">.</span><span class="mi">49</span><span class="p">,</span><span class="mi">000</span><span class="p">,</span><span class="k">ALL</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="n">Ben</span> <span class="n">Ben</span>
<span class="n">YKG351</span><span class="p">,</span><span class="mi">024000566670</span><span class="p">,</span><span class="n">Canned</span> <span class="n">Green</span> <span class="n">Beans</span><span class="p">,</span><span class="err">$</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="p">,</span><span class="err">$</span><span class="mi">0</span><span class="p">.</span><span class="mi">89</span><span class="p">,</span><span class="mi">000</span><span class="p">,</span><span class="k">ALL</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="n">Ben</span> <span class="n">Ben</span>
<span class="n">ABE392</span><span class="p">,</span><span class="mi">00000000324588</span><span class="p">,</span><span class="n">Red</span> <span class="n">Apples</span><span class="p">,</span><span class="err">$</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="p">,</span><span class="err">$</span><span class="mi">0</span><span class="p">.</span><span class="mi">99</span><span class="p">,</span><span class="mi">000</span><span class="p">,</span><span class="k">ALL</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">Jonah</span> <span class="n">Albert</span>
<span class="n">PKL125</span><span class="p">,</span><span class="mi">00000000571111</span><span class="p">,</span><span class="n">Trail</span> <span class="n">Mix</span><span class="p">,</span><span class="err">$</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="p">,</span><span class="err">$</span><span class="mi">5</span><span class="p">.</span><span class="mi">99</span><span class="p">,</span><span class="mi">000</span><span class="p">,</span><span class="k">ALL</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">Benjamin</span> <span class="n">Wooten</span>
<span class="n">DKK439</span><span class="p">,</span><span class="mi">00000000884389</span><span class="p">,</span><span class="n">Red</span> <span class="n">Wine</span><span class="p">,</span><span class="err">$</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="p">,</span><span class="err">$</span><span class="mi">10</span><span class="p">.</span><span class="mi">99</span><span class="p">,</span><span class="mi">000</span><span class="p">,</span><span class="k">ALL</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="n">Garrison</span> <span class="n">Calhoun</span>
<span class="n">SCO098</span><span class="p">,</span><span class="mi">00000000735797</span><span class="p">,</span><span class="n">Steak</span><span class="p">,</span><span class="err">$</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="p">,</span><span class="err">$</span><span class="mi">8</span><span class="p">.</span><span class="mi">99</span><span class="p">,</span><span class="mi">000</span><span class="p">,</span><span class="k">ALL</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="n">Tanner</span> <span class="n">Hampton</span>
<span class="n">POU312</span><span class="p">,</span><span class="mi">00000000388771</span><span class="p">,</span><span class="n">Cheez</span> <span class="n">It</span><span class="p">,</span><span class="err">$</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="p">,</span><span class="err">$</span><span class="mi">3</span><span class="p">.</span><span class="mi">99</span><span class="p">,</span><span class="mi">000</span><span class="p">,</span><span class="k">ALL</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="n">Gil</span> <span class="n">Mayer</span>
<span class="n">KFS843</span><span class="p">,</span><span class="mi">00000000830881</span><span class="p">,</span><span class="n">Salsa</span><span class="p">,</span><span class="err">$</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="p">,</span><span class="err">$</span><span class="mi">4</span><span class="p">.</span><span class="mi">99</span><span class="p">,</span><span class="mi">000</span><span class="p">,</span><span class="k">ALL</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="n">Scott</span> <span class="n">Herman</span>
<span class="n">IFG953</span><span class="p">,</span><span class="mi">00000000941969</span><span class="p">,</span><span class="n">Quaker</span> <span class="n">Oats</span><span class="p">,</span><span class="err">$</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="p">,</span><span class="err">$</span><span class="mi">8</span><span class="p">.</span><span class="mi">99</span><span class="p">,</span><span class="mi">000</span><span class="p">,</span><span class="k">ALL</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="n">Kermit</span> <span class="n">Bean</span>
</pre></div>


<p>These products will work with the checkout simulator provided.</p>
<h2 id="write-custom-unicenta-scripts">Write Custom uniCenta Scripts</h2>
<p>uniCenta provides a framework for running custom code as scripts, these scrips are triggered on uniCenta events.  To build a POS system that integrates with our reference design you can use the following uniCenta events to trigger your custom code to send POS transactions to EdgeX.</p>
<table>
<thead>
<tr>
<th>Event</th>
<th>Happens</th>
<th>Explanation</th>
<th>REST device service events</th>
</tr>
</thead>
<tbody>
<tr>
<td>ticket.addline</td>
<td>BEFORE</td>
<td>When a new line item is added Script receives details of the line item being added</td>
<td>basket-open, scanned-item</td>
</tr>
<tr>
<td>ticket.removeline</td>
<td>BEFORE</td>
<td>When a line item is removed from the ticket, the script receives index of the line</td>
<td>remove-item</td>
</tr>
<tr>
<td>ticket.total</td>
<td>AFTER</td>
<td>The = (equals) button is touched Taxes are calculated and...,BEFORE the Payments dialog is shown</td>
<td>payment-start</td>
</tr>
<tr>
<td>ticket.close</td>
<td>AFTER</td>
<td>The ticket is stored in the database and... AFTER the receipt number is assigned</td>
<td>payment-success</td>
</tr>
</tbody>
</table>
<p>The scripts are written in Java and get triggered by subscribing to specific event.  The linking of the custom script code to uniCenta's events is accomplished by first, adding your java code snippet as a resource under 'navbar' -&gt; 'Maintenance' -&gt; 'Resources'.  Second, you link the new resource by adding this line to the 'ticket.buttons' from the 'Resources' page <code>&lt;event key="ticket.&lt;EVENT_NAME&gt;" code="script.&lt;SCRIPT_NAME&gt;"/&gt;</code> this links the ticket.<EVENT_NAME> event to a file named 'script.SCRIPT_NAME', make sure to remove or comment out any other event already linked to 'ticket.<EVENT_NAME>'.  This process can be applied to the other uniCenta events as well.</p>
<p>For example to add a script to send a 'basket-open' and 'scanned-item' events to the REST device service you would subscribe to the the 'ticket.addline' event.  And in the script code you would gather the necessary product information and send the appropriate REST requests for 'basket-open' and 'scanned-item'.</p>
<p>Depending on the event you are subscribing to uniCenta will pass parameters into your function.</p>
<table>
<thead>
<tr>
<th>Object</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>ticket</td>
<td>TICKETINFO</td>
<td>Contains all the information related to the ticket</td>
</tr>
<tr>
<td>place</td>
<td>STRING</td>
<td>Contains the table in restaurant mode</td>
</tr>
<tr>
<td>taxes</td>
<td>TAXINFO</td>
<td>Contains a list of all the taxes</td>
</tr>
<tr>
<td>taxeslogic</td>
<td>TAXESLOGIC</td>
<td>Contains a list of methods that calculates the tax lines of a current ticket</td>
</tr>
<tr>
<td>user</td>
<td>APPUSER</td>
<td>Contains the User currently logged in</td>
</tr>
<tr>
<td>sales</td>
<td>SCRIPTOBJECT</td>
<td>Contains utility methods of the Sales screen</td>
</tr>
</tbody>
</table>
<p>The functions for working with a ticketline are the following:</p>
<table>
<thead>
<tr>
<th>FUNCTION</th>
<th>RESULT</th>
</tr>
</thead>
<tbody>
<tr>
<td>setTicket(String ticket, int line)</td>
<td>Set a ticket’s ticketline</td>
</tr>
<tr>
<td>getTicket()</td>
<td>Return the current ticketline</td>
</tr>
<tr>
<td>setMultiply(double dvalue)</td>
<td>Set the ticketline’s number of multiplier units to dvalue</td>
</tr>
<tr>
<td>getMultiply()</td>
<td>Return the ticketline’s number of multiplier units</td>
</tr>
<tr>
<td>setPrice(double dvalue)</td>
<td>Set the ticketline’s unit SellPrice to dvalue</td>
</tr>
<tr>
<td>getPrice()</td>
<td>Return the ticketline’s unit SellPrice</td>
</tr>
<tr>
<td>setPriceTax(double dvalue)</td>
<td>Set the ticketline’s unit SellPrice plus tax to dvalue</td>
</tr>
<tr>
<td>getPriceTax()</td>
<td>Return the ticketline’s unit SellPrice plus tax</td>
</tr>
</tbody>
</table>
<p>Additional information can be found on uniCenta's website, specifically downloads -&gt; user guides -&gt; 'uniCenta oPOS Developer Scripting Guide.pdf' once you register.</p>
<p>In the java code you can import <code>org.json.simple.JSONObject</code> to create json objects, and <code>java.net.HttpURLConnection</code> to initiate the POST request to the device service.  You can even go as for as reading from the uniCenta database by using the <code>java.sql.*</code> namespace.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../troubleshooting/" title="Troubleshooting" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Troubleshooting
              </span>
            </div>
          </a>
        
        
          <a href="../rtsf_at_checkout_events/checkout_events/" title="Checkout events" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Checkout events
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.ac79c3b0.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
        <script src="https://unpkg.com/lunr/lunr.js"></script>
      
    
  </body>
</html>