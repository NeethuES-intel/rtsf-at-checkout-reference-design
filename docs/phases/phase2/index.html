



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.6.0">
    
    
      
        <title>Phase 2 - Bring Your Own Software - Real Time Sensor Fusion for Loss Detection at Checkout</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.1b62728e.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.268332fc.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-154731555-1", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#phase-2-bring-your-own-software" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Real Time Sensor Fusion for Loss Detection at Checkout" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Real Time Sensor Fusion for Loss Detection at Checkout
            </span>
            <span class="md-header-nav__topic">
              
                Phase 2 - Bring Your Own Software
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="Real Time Sensor Fusion for Loss Detection at Checkout" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Real Time Sensor Fusion for Loss Detection at Checkout
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Real Time Sensor Fusion for Loss Detection at Checkout Reference Design" class="md-nav__link">
      Real Time Sensor Fusion for Loss Detection at Checkout Reference Design
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Phases
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Phases
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../phase1/" title="Phase 1 - Simulate Events" class="md-nav__link">
      Phase 1 - Simulate Events
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Phase 2 - Bring Your Own Software
      </label>
    
    <a href="./" title="Phase 2 - Bring Your Own Software" class="md-nav__link md-nav__link--active">
      Phase 2 - Bring Your Own Software
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#upload-products-list" class="md-nav__link">
    Upload Products List
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integrating-your-pos-of-choice" class="md-nav__link">
    Integrating your POS of choice
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#end-results" class="md-nav__link">
    End Results
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../phase3/" title="Phase 3 - Bring Your Own Hardware" class="md-nav__link">
      Phase 3 - Bring Your Own Hardware
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      RTSF at Checkout Events
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        RTSF at Checkout Events
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../rtsf_at_checkout_events/checkout_events/" title="Checkout events" class="md-nav__link">
      Checkout events
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../rtsf_at_checkout_events/event_simulation/" title="Event simulation" class="md-nav__link">
      Event simulation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../device_services/" title="Device services" class="md-nav__link">
      Device services
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../configuration/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../notifications/" title="How to Send Notifications through EdgeX (optional)" class="md-nav__link">
      How to Send Notifications through EdgeX (optional)
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../troubleshooting/" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../references/" title="References" class="md-nav__link">
      References
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#upload-products-list" class="md-nav__link">
    Upload Products List
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integrating-your-pos-of-choice" class="md-nav__link">
    Integrating your POS of choice
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#end-results" class="md-nav__link">
    End Results
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="phase-2-bring-your-own-software">Phase 2 - Bring Your Own Software</h1>
<h2 id="overview">Overview</h2>
<p>After completing Phase 1, you should now have an understanding of the various events that are generated by the various components in the reference solution. This guide will help you to start integrating your own software. As more components are replaced with actual software, event simulation will no longer be required. </p>
<p>Your POS of choice must send <strong>POS Events</strong> to either the Edgex REST or MQTT Device service. See the <a href="../../rtsf_at_checkout_events/checkout_events/#pos-events">POS Events</a> section for details about each <strong>POS event</strong> and the <a href="../../device_services/">Device Services</a> section for details on how to send the events. </p>
<p>If you don't currently have a POS of choice, we recommend using an open source POS to get familiar with the POS integration. The following guide has general integration instructions for integrating your POS of choice.</p>
<h3 id="upload-products-list">Upload Products List</h3>
<p>For any POS you choose, you'll want to ensure that it is loaded with the products below. It is provided in CSV format:</p>
<div class="codehilite"><pre><span></span><span class="err">Reference,Barcode,Name,Buy Price,Sell Price,Tax,Category,Default,Supplier</span>
<span class="err">ABE391,013000006408,Ketchup,$0.00,$1.99,000,ALL,1,Jonah Albert</span>
<span class="err">PKL121,049000050158,Sprite 2L,$0.00,$1.99,000,ALL,2,Benjamin Wooten</span>
<span class="err">DKK435,021200519598,Ocelo Sponges,$0.00,$4.99,000,ALL,3,Garrison Calhoun</span>
<span class="err">SCO091,028400159609,Ruffles,$0.00,$2.99,000,ALL,4,Tanner Hampton</span>
<span class="err">POU311,052000338775,Gatorade,$0.00,$1.99,000,ALL,5,Gil Mayer</span>
<span class="err">KFS842,038000183713,Pringles,$0.00,$2.99,000,ALL,6,Scott Herman</span>
<span class="err">IFG952,048001353565,Mayonnaise,$0.00,$5.99,000,ALL,7,Kermit Bean</span>
<span class="err">OLP122,043000955437,Koolaid Fruit Punch,$0.00,$0.99,000,ALL,7,Ben Ben</span>
<span class="err">IKA931,022000008916,Extra Peppermint Gum,$0.00,$1.99,000,ALL,7,Kermit Bean</span>
<span class="err">QWE211,051700988235,Finish Dishwasher Tablet,$0.00,$12.99,000,ALL,7,Kermit Bean</span>
<span class="err">IKA321,012000163173,Mountain Dew 6 Pack,$0.00,$3.49,000,ALL,7,Ben Ben</span>
<span class="err">YKG351,024000566670,Canned Green Beans,$0.00,$0.89,000,ALL,7,Ben Ben</span>
<span class="err">ABE392,00000000324588,Red Apples,$0.00,$0.99,000,ALL,1,Jonah Albert</span>
<span class="err">PKL125,00000000571111,Trail Mix,$0.00,$5.99,000,ALL,2,Benjamin Wooten</span>
<span class="err">DKK439,00000000884389,Red Wine,$0.00,$10.99,000,ALL,3,Garrison Calhoun</span>
<span class="err">SCO098,00000000735797,Steak,$0.00,$8.99,000,ALL,4,Tanner Hampton</span>
<span class="err">POU312,00000000388771,Cheez It,$0.00,$3.99,000,ALL,5,Gil Mayer</span>
<span class="err">KFS843,00000000830881,Salsa,$0.00,$4.99,000,ALL,6,Scott Herman</span>
<span class="err">IFG953,00000000941969,Quaker Oats,$0.00,$8.99,000,ALL,7,Kermit Bean</span>
</pre></div>


<p>These products will work with the checkout simulator provided.</p>
<h2 id="integrating-your-pos-of-choice">Integrating your POS of choice</h2>
<p>To build a POS system that integrates with our reference design you can use the following event types to trigger your custom code to send POS transactions to EdgeX.</p>
<table>
<thead>
<tr>
<th>Event</th>
<th>Explanation</th>
<th>REST device service events</th>
</tr>
</thead>
<tbody>
<tr>
<td>Add Line Item</td>
<td>When a new line item is added to the ticket</td>
<td><a href="../../rtsf_at_checkout_events/checkout_events/#basket-open">basket-open</a>, <a href="../../rtsf_at_checkout_events/checkout_events/#scanned-item">scanned-item</a></td>
</tr>
<tr>
<td>Remove Line Item</td>
<td>When a line item is removed from the ticket</td>
<td><a href="../../rtsf_at_checkout_events/checkout_events/#remove-item">remove-item</a></td>
</tr>
<tr>
<td>Total Calculation</td>
<td>When the customer is ready to begin payment</td>
<td><a href="../../rtsf_at_checkout_events/checkout_events/#payment-start">payment-start</a></td>
</tr>
<tr>
<td>Payment Result</td>
<td>After payment has been received, and is successful</td>
<td><a href="../../rtsf_at_checkout_events/checkout_events/#payment-success">payment-success</a>, <a href="../../rtsf_at_checkout_events/checkout_events/#basket-close">basket-close</a></td>
</tr>
</tbody>
</table>
<h2 id="end-results">End Results</h2>
<p>By the end of this guide. You should no longer require the event simulator to send <a href="../../rtsf_at_checkout_events/checkout_events/#pos-events">POS Events</a>. You should now be able to leverage your POS of choice to replace the <a href="../../rtsf_at_checkout_events/checkout_events/#pos-events">POS Events</a>  being sent by the simulator in Phase 1. </p>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../phase1/" title="Phase 1 - Simulate Events" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Phase 1 - Simulate Events
              </span>
            </div>
          </a>
        
        
          <a href="../phase3/" title="Phase 3 - Bring Your Own Hardware" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Phase 3 - Bring Your Own Hardware
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.808e90bb.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
        <script src="https://unpkg.com/lunr/lunr.js"></script>
      
    
  </body>
</html>